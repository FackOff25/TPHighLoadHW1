# Яндекс.Такси


## 1.1 Тема

**Яндекс.Такси** - одна из самостоятельных бизнес-единиц «Яндекса», предлагающая сервисы такси.

### MVP:

1. Профиль таксиста и пользователя.
2. Заказ такси на адрес.
3. Отображение списка заказов таксистам.
4. Чат с водителем.
5. Отображение местоположения таксистов.
6. Построение маршрута и расчёт стоимости по этому маршруту.

## 1.2 Целевая аудитория

Клиентами компаний становятся потребители в возрасте от 18 до 65 лет с разным уровнем достатка. Наиболее частыми клиентами такси являются люди в возрастной категории от 25
до 45 лет.

Наиболее часто пользуются услугами такси следующие категории граждан:
- люди, которые не располагают собственным транспортом;
- люди, которые имеют в собственности личный автомобиль, но не имеют возможности использовать его;
- люди, опаздывающие куда-либо и не рискующие воспользоваться общественным транспортом;
- люди с маленькими детьми; с тяжелыми сумками или другим крупногабаритным грузом или багажом;
-  клиенты, нуждающиеся в транспорте в ночное время суток; клиенты, находящиеся в состоянии алкогольного опьянения.[^1]

Работает в 17 странах [^2]

Доли[^3]:

| Страна        | Доля запросов       |
|---------------|---------------------|
|Россия         |88.47%|
|Беларусь       |4.78%|
|Киргизстан     |3.14%|
|Казахстан      |1.18%|
|Узбекистан     |0.21%|
|Остальное      |2.22%|

## Посетители

| Месяц | Посетителей в месяц |
| ------------- | ------------|
| Ноябрь 2022г  | 4.0 млн     |
| Декабрь 2022г | 4.1 млн     |
| Январь 2023г  | 3.8 млн     |
| Февраль 2023г | 3.7 млн     |

Подтверждение данных через SimilarWeb за ноябрь и декабрь 2022г и январь 2023[^3]
![Подтверждение данных через SimilarWeb](./images/similarweb1.png)
![Подтверждение данных через SimilarWeb](./images/similarweb2.png)

По данным 2020г. в Яндекс.Такси работает 700000 водителей (также пользователей сервиса)[^4]

Яндекс.Такси обрабатывает около 70% заказов такси в России[^5], при этом по Росии в 2021г было произведенео 2620 млн поездок[^6].
Таким образов на базе Яндекс.Такси в России произволится 2620*0.7/365 ~ 5 млн поездок в день.

**2. Расчет нагрузки**

Количество поездок в день: ~5 млн
Пользователей в месяц: ~4млн
Исходя из этого грубо примем, что большинство из них - постоянные клиенты и заказывают такси каждый день, то есть по 1.8 раз в день.(На самом деле многие вызывают такси реже раза в месяц и общая аудитория сервиса значительно выше)

Человек отслеживает ближайшие свободные машины до заказа и во время ожидания, это время примерно равно 4 мин.[^7] Стоит учитывать, что не все пользователи отслеживают машины после заказа, также как далеко не все смотрят за машинами всё время ожидания, поэтому время слежки о машинах уменьшим до 3-х минут, что совпадает с информацией о среднем времени просмотра сайта от SimilarWeb.

Каждому пользователю, который зашел в приложение, показывается карта с расположением автомобилей, эта информация обновляется примерно раз в 5 секунд исходя из собственных замеров.

Пользователь может заходить проверять сервис, чтобы сравнить цены на поездку, но не вызывая такси, учитывая это, примем значение открытия приложения без заказа такси в день примем равным 1.

Человек ждет машину в среднем 4 минуты, совершает 1.8 поездок в день, 2 раза заходит в сервис без заказа такси. В итоге получается, что он получает информацию о свободных машинах (1.8 + 1) * 3 * (60 / 5)= 65.16 раз.

Если человек делает в среднем 1.8 заказов такси, 1 раз смотрит цену поездки в день, то всего он использует подсчет цены, примерное время поездки для заданного маршрута - 1.8 + 1 = 2.8 раз. 

|Заказ такси|Отслеживание ближайших свободных машин|Подсчет цены, примерного времени поездки для заданного маршрута|
|--|--|--|
|1.8|65.16|2.8|

Всего пользователей скачало приложение - 100 млн[^8], однако это сервис Яндекса и большая часть информации хранится в отдельной базе Яндекса, а не базе сервиса, поэтому рассмотрим данные нужные конкретно сервису такси
Для каждого пользователя требуется хранить следующие свойства:
- email (строка, 100 байт) - для связи с основным аккаунтом;
- рейтинг пользователя (число с плавающей точкой, 4 байта);
- текущая широта (число с плавающей точкой, 8 байта)
- текущая долгота (число с плавающей точкой, 8 байта)
- избранные места (список из мест, каждое место хранится в виде: долгота (число с плавающей точкой, 4 байта), широта (число с плавающей точкой, 4 байта), название (строка, 100 байт));
- история заказов (список заказов, каждый заказ состоит из id пассажира (целое число, 4 байта), id водителя (целое число, 4 байта), id автомобиля (целое число, 4 байта),продолжительность поездки (целое число, 4 байта), цена поездки (целое число (4 байта), оценка водителя (целое число, 1 байт), оценка клиента (целое число, 1 байт), маршрут поездки (чтобы описать маршрут, необходимо знать точки начала и конца маршрута, все ветвления дорог, через которые проложен маршрут. 


## Список литературы

[^1]: [Проект по сдаче автомобилей на базе Яндекс. Такси](https://damu.kz/poleznaya-informatsiya/biznes-plani/2020/1.%D0%91%D0%B8%D0%B7%D0%BD%D0%B5%D1%81%20%D0%BF%D0%BB%D0%B0%D0%BD%20_%D1%82%D0%B0%D0%BA%D1%81%D0%B8.pdf)
[^2]: [Отчёт Яндекса за 2019г](https://company-docs.s3.yandex.net/prospectus/annual_2019.pdf)
[^3]: [Страница с метриками Яндекс.Такси SimilarWeb](https://www.similarweb.com/website/taxi.yandex.ru/#traffic)
[^4]: [Статья автокредитования для водителей в Яндекс.Такси](https://www.vedomosti.ru/business/articles/2020/10/01/841894-yandekstaksi-zapustilo)
[^5]: [Сравнение конкурентов Яндекса на фоне побега одного из них из Росии](https://www.cnews.ru/news/top/2021-11-08_estonskij_konkurent_yandeks)
[^6]: [Численность поездок на такси в России 2021г](https://marketing.rbc.ru/articles/13500/)
[^7]: [Исследования Яндекса о такси в Москве](https://yandex.ru/company/researches/2015/moscow/taxi#:~:text=%D0%A1%D1%80%D0%B5%D0%B4%D0%BD%D0%B5%D0%B5%20%D0%B2%D1%80%D0%B5%D0%BC%D1%8F%20%D0%BE%D0%B6%D0%B8%D0%B4%D0%B0%D0%BD%D0%B8%D1%8F%20%D0%B7%D0%B0%D0%BA%D0%B0%D0%B7%D0%B0%20%D0%B2%20%D0%AF%D0%BD%D0%B4%D0%B5%D0%BA%D1%81.%D0%A2%D0%B0%D0%BA%D1%81%D0%B8%20%E2%80%94%204%20%D0%BC%D0%B8%D0%BD%D1%83%D1%82%D1%8B)
[^8]: [Приложения Яндекс.Go](https://play.google.com/store/apps/details?id=ru.yandex.taxi&hl=ru&gl=US#:~:text=5%2C91%C2%A0%D0%BC%D0%BB%D0%BD%20%D0%BE%D1%82%D0%B7%D1%8B%D0%B2%D0%BE%D0%B2-,100%C2%A0%D0%BC%D0%BB%D0%BD%2B,-%D0%9A%D0%BE%D0%BB%D0%B8%D1%87%D0%B5%D1%81%D1%82%D0%B2%D0%BE%20%D1%81%D0%BA%D0%B0%D1%87%D0%B8%D0%B2%D0%B0%D0%BD%D0%B8%D0%B9)

